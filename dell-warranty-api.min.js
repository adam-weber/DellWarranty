options=["ServiceLevelDescription","ServiceProvider","StartDate","EndDate"];function getWarranty(b,c,a){warranty={tag:b||null,key:c||null,type:a.toLowerCase()||null};for(var d in warranty){if(!warranty[d]){console.log("Argument Missing-"+d);alert("ERROR-Console")}}apiRequest(warranty.type)}function apiRequest(a){a=a!="table"?a:"xml";jQuery.ajax({url:"https://sandbox.api.dell.com/support/v2/assetinfo/warranty/tags."+a+"?svctags="+warranty.tag+"&apikey="+warranty.key+"",async:true,type:"GET",success:function(b){processData(b)},error:function(b){console.log(b);alert("ERROR-Console")}})}function processData(a){switch(warranty.type){case"xml","json":return a;case"table":pattern=/\d/;tableHTML="<table><tr><th>Service</th><th>Provider</th><th>Start Date</th><th>End Date</th></tr></td>";doc=a.getElementsByTagName("Warranty");i=doc.length;while(--i){for(var b in options){current=doc[i].getElementsByTagName(options[b])[0].childNodes[0].nodeValue;if(pattern.test(current)){tableHTML+="<td>"+$.format.date(current,"MM/dd/yyyy")+"</td>"}else{tableHTML+="<td>"+current+"</td>"}}tableHTML+="</td></tr>"}return tableHTML}};
